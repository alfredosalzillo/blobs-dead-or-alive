(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[320],{9524:function(e,t,s){Promise.resolve().then(s.t.bind(s,2666,23)),Promise.resolve().then(s.bind(s,9523))},9523:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return M}});var n=s(9268);let r=function(e,t){let s=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=Math.random()*(t-e)+e;return s?n:Math.floor(n)};function l(e){return e[r(0,e.length)]}var a=s(1083).Buffer;let i=()=>{let e=r(0,360),t=r(75,100),s=r(75,95),n="hsl(".concat(e,", ").concat(t,"%, ").concat(s,"%)"),l="hsl(".concat(e,", ").concat(t,"%, 2%)"),a="hsl(".concat(e,", ").concat(t,"%, 98%)");return{primary:n,dark:l,light:a}},c=(e,t,s)=>{let n=r(3,12),l=2*Math.PI/n;return Array(n).fill(0).map((n,a)=>{let i=r(.75,1,!0);return{x:e+Math.cos(a*l)*(s*i),y:t+Math.sin(a*l)*(s*i)}})},o=(e,t,s)=>{let n=r(0,1,!0)>.75,l=r(s/2,s);return n?[{x:e,y:t,size:l}]:[{y:t,size:l,x:e-s},{y:t,size:l,x:e+s}]},d=(e,t)=>{let s=e/2,n=t/2,l=r(50,80),d=i(),h=c(s,n,l),u=o(s,n,l/2),x=a.from(JSON.stringify({x:s,y:n,size:l,colors:d,body:h,eyes:u})).toString("base64");return{id:x,x:s,y:n,width:e,height:t,body:h,eyes:u,colors:d}},h=()=>Array(16).fill(0).map(()=>d(200,200)),u=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=h();return{blobs:t,captured:[],wanted:l(t),time:3e3,elapsed:0,points:0,round:e}},x=e=>Math.round(100*(e.time-e.elapsed)/e.time),m=e=>1e3+2e3/2**(e.round-1),p=e=>{let t=h();return{blobs:t,captured:[...e.captured,e.wanted],wanted:l(t),time:e.time-e.elapsed+m(e),elapsed:0,points:e.points+x(e),round:e.round+1}},j=e=>0===e.round?"start":e.elapsed>=e.time?"loose":"run";var b=s(6006);let f=e=>{let{children:t}=e;return(0,n.jsxs)("div",{className:"wanted",children:[(0,n.jsx)("div",{className:"wanted-title",children:"WANTED"}),(0,n.jsx)("div",{className:"wanted-subtitle",children:"Dead or Alive"}),(0,n.jsx)("div",{className:"wanted-picture",children:t}),(0,n.jsx)("div",{className:"wanted-reward",children:"100 REWARD"})]})},v=function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],s=[...e].map(e=>{let{x:t,y:s}=e;return[t,s]});if(t){let e=s[s.length-1],t=s[s.length-2],n=s[0],r=s[1];s.unshift(e),s.unshift(t),s.push(n),s.push(r)}return s.flat()};var g=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,s=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=v(e,s),r=n.length,l=r-4,a=s?n[2]:n[0],i=s?n[3]:n[1],c="M".concat([a,i]),o=s?2:0,d=s?r-4:r-2;for(let e=o;e<d;e+=2){let s=e?n[e-2]:n[0],r=e?n[e-1]:n[1],a=n[e],i=n[e+1],o=n[e+2],d=n[e+3],h=e!==l?n[e+4]:o,u=e!==l?n[e+5]:d,x=a+(o-s)/6*t,m=i+(d-r)/6*t,p=o-(h-a)/6*t,j=d-(u-i)/6*t;c+="C".concat([x,m,p,j,o,d])}return c};let N=e=>{let{x:t,y:s,size:r,colors:l}=e;return(0,n.jsxs)("g",{transform:"matrix(1,0,0,1,".concat(t,",").concat(s,")"),className:"blob-eye",children:[(0,n.jsx)("circle",{r:r,cx:"0",cy:"0",strokeWidth:"2",stroke:l.dark,fill:l.light,className:"blob-eye-iris"}),(0,n.jsx)("circle",{r:r/2,cx:"0",cy:"0",fill:l.dark,className:"blob-eye-pupil",style:{"--radius":"".concat(r/2,"px")}})]})},y=["eye-roll","eye-roll-reverse","eye-converge","eye-converge-reverse"],k=e=>{let{width:t,height:s,body:a,eyes:i,colors:c,animated:o}=e,[d,h]=(0,b.useState)("");return(0,b.useEffect)(()=>{if(o&&!d){let e=setTimeout(()=>h(l(y)),r(0,2e4));return()=>clearTimeout(e)}},[o,d,h]),(0,n.jsxs)("svg",{viewBox:"0 0 ".concat(t," ").concat(s),className:"blob ".concat(o&&d),onClick:()=>h("eye-flock"),onAnimationEnd:()=>h(""),children:[(0,n.jsx)("path",{d:g(a,1,!0),strokeWidth:2,stroke:c.dark,fill:c.primary}),(0,n.jsxs)("g",{children:["$",i.map(e=>(0,n.jsx)(N,{...e,colors:c},[e.x,e.y,e.size].join("-")))]})]})},w=e=>{let{onClickStart:t}=e;return(0,n.jsx)("div",{className:"dialog-backdrop",children:(0,n.jsxs)("dialog",{className:"dialog",open:!0,children:[(0,n.jsx)("h1",{children:"Instructions"}),(0,n.jsx)(f,{children:(0,n.jsx)(k,{...d(200,200)})}),(0,n.jsx)("p",{children:"Find the WANTED BLOB before the time end."}),(0,n.jsx)("button",{type:"button",className:"action-button",onClick:t,children:"START"})]})})},E=e=>{let{onRetryClick:t,points:s,captured:r=[]}=e;return(0,n.jsx)("div",{className:"dialog-backdrop",children:(0,n.jsxs)("dialog",{className:"dialog",open:!0,children:[(0,n.jsx)("h1",{children:"You LOOSE"}),(0,n.jsxs)("p",{children:[(0,n.jsx)("span",{style:{color:"#2b2b2b"},children:"SCORE"}),(0,n.jsx)("br",{}),s," ","PT",(0,n.jsx)("br",{})]}),!!r.length&&(0,n.jsxs)("p",{children:[(0,n.jsx)("span",{style:{color:"#2b2b2b"},children:"CAPTURED"}),(0,n.jsx)("br",{}),r.map(e=>(0,n.jsx)("div",{style:{width:"65px",margin:"3px",border:"1px solid black",background:"#adabab",display:"inline-block"},children:(0,n.jsx)(k,{...e},e.id)},e.id))]}),(0,n.jsx)("button",{type:"button",className:"action-button",onClick:t,children:"RETRY"})]})})},A=u(0),C=()=>{let[e,t]=(0,b.useState)(A),{blobs:s,captured:n,wanted:r,points:l,time:a,elapsed:i,round:c}=e;(0,b.useEffect)(()=>{let e=0,s=0,n=()=>{e=window.requestAnimationFrame(e=>{let r=e-s;t(e=>0===e.round?e:{...e,elapsed:Math.min(e.elapsed+r,e.time)}),s=e,n()})};return n(),()=>window.cancelAnimationFrame(e)},[]);let o=j(e),d=e=>{e.id===r.id&&t(p)},h=()=>{t(u(1))};return{blobs:s,captured:n,wanted:r,points:l,time:a,elapsed:i,status:o,round:c,next:d,restart:h}},T=()=>{let e=C(),{blobs:t,captured:s,wanted:r,points:l,time:a,elapsed:i,status:c}=e,o=t=>{e.next(t)};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("header",{children:(0,n.jsxs)("h1",{className:"title",children:["BLOBS",(0,n.jsx)("span",{className:"title-doa",children:"DEAD OR ALIVE"})]})}),(0,n.jsxs)("div",{className:"content",children:[(0,n.jsxs)("div",{className:"content-header",children:[(0,n.jsxs)("div",{className:"controls",children:[(0,n.jsxs)("div",{children:[(0,n.jsxs)("progress",{id:"time-progress",value:(a-i)/a,max:1,"data-animated":i>0,children:[i,"ms"]}),(0,n.jsxs)("label",{htmlFor:"time-progress",className:"time-progress-label",children:[Math.round(a-i),"ms"]})]}),(0,n.jsxs)("div",{className:"score",children:["PT"," ",l]})]}),(0,n.jsx)(f,{children:r&&(0,n.jsx)(k,{...r})})]}),(0,n.jsx)("div",{className:"board",children:t.map(e=>(0,n.jsx)("div",{role:"button",tabIndex:-1,className:"box",onClick:()=>o(e),children:(0,n.jsx)(k,{...e,animated:!0})},e.id))}),"start"===c&&(0,n.jsx)(w,{onClickStart:()=>e.restart()}),"loose"===c&&(0,n.jsx)(E,{points:l,captured:s,onRetryClick:()=>e.restart()})]})]})};var M=T}},function(e){e.O(0,[863,667,231,744],function(){return e(e.s=9524)}),_N_E=e.O()}]);